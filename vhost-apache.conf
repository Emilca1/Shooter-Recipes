<VirtualHost *:80>
    ServerName yourdomain

    AuthType Basic
    AuthName "Shooters - Password Required"
    AuthUserFile /etc/apache2/.htpasswd
    Require valid-user

    ProxyPreserveHost On

    # Front
    ProxyPass / http://localhost:3000/ upgrade=websocket
    ProxyPassReverse / http://localhost:3000/ upgrade=websocket

    # Logging
    CustomLog ${APACHE_LOG_DIR}/yourdomain_access.log combined
    ErrorLog ${APACHE_LOG_DIR}/yourdomain_error.log

    # Backend API
    <Location "/api/">
        ProxyPreserveHost On
        ProxyPass http://localhost:5000/
        ProxyPassReverse http://localhost:5000/
    </Location>
</VirtualHost>